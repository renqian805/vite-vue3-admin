var O=Object.defineProperty,S=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var j=(n,t,e)=>t in n?O(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,a=(n,t)=>{for(var e in t||(t={}))N.call(t,e)&&j(n,e,t[e]);if(C)for(var e of C(t))R.call(t,e)&&j(n,e,t[e]);return n},r=(n,t)=>S(n,D(t));var v=(n,t,e)=>new Promise((h,F)=>{var u=c=>{try{f(e.next(c))}catch(i){F(i)}},w=c=>{try{f(e.throw(c))}catch(i){F(i)}},f=c=>c.done?h(c.value):Promise.resolve(c.value).then(u,w);f((e=e.apply(n,t)).next())});import{k as T,m as V}from"./index.57f23076.js";import{j as b,D as g,at as q}from"./vendor.1de287a7.js";function B(){const{show:n}=T();return[F=>v(this,[F],function*({modalProps:e,formSchema:h}){const u=b(),w=f=>{var c,i;(c=u.value)==null||c.resetFields(),(i=e==null?void 0:e.onCancel)==null||i.call(e,f)};return yield n(r(a({destroyOnClose:!0},e),{onCancel:w,content:()=>g(V,{ref:u,formSchema:h},null),onOk:()=>v(this,null,function*(){var c,i,M,y,k;const f=((c=u.value)==null?void 0:c.formModel)||{};try{yield(i=u.value)==null?void 0:i.validate(),yield(M=e==null?void 0:e.onFinish)==null?void 0:M.call(e,a({},f)),(y=u.value)==null||y.resetFields()}catch(x){return(k=e==null?void 0:e.onFail)==null||k.call(e,a({},f)),Promise.reject(x)}})})),yield q(),[u]})]}export{B as u};
