var T=Object.defineProperty,q=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var M=(o,a,s)=>a in o?T(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,k=(o,a)=>{for(var s in a||(a={}))O.call(a,s)&&M(o,s,a[s]);if(x)for(var s of x(a))R.call(a,s)&&M(o,s,a[s]);return o},h=(o,a)=>q(o,G(a));var S=(o,a,s)=>new Promise((m,u)=>{var n=d=>{try{p(s.next(d))}catch(C){u(C)}},f=d=>{try{p(s.throw(d))}catch(C){u(C)}},p=d=>d.done?m(d.value):Promise.resolve(d.value).then(n,f);p((s=s.apply(o,a)).next())});import{b as N,bT as j,u as b,o as g,G as V,aN as H,aO as Q,Q as e,bU as J,q as K,m as W,k as X,bS as Y,e as E,D as t,E as r,br as l,h as c,t as i,bu as A,ad as F,F as Z,r as ee,f as I}from"./vendor.1de287a7.js";/* empty css              */import{y as te,M as ae,_ as re,N as v}from"./index.57f23076.js";function se(){return te({url:ae.stat,method:"get"})}const D=N({props:h(k({},j()),{strokeColor:{type:[String,Object,Function]}}),setup(o){const a=o,s=b(()=>typeof a.strokeColor=="function"?h(k({},a),{strokeColor:a.strokeColor(a.percent)}):h(k({},a),{strokeColor:a.strokeColor}));return(m,u)=>(g(),V(e(J),H(Q(e(s))),null,16))}});const le={class:"sys-server-stat-container"},oe={class:"disk-info"},ue={class:"disk-info--item"},ne={class:"disk-info"},de={class:"disk-info--item"},ce={name:"SystemMonitorServe"},ie=N(h(k({},ce),{setup(o){let a=-1;const s=K({runtime:{os:"",arch:"",nodeVersion:"",npmVersion:""},disk:{size:0,used:0,available:0},memory:{total:0,available:0},cpu:{manufacturer:"",brand:"",physicalCores:0,model:"",speed:0,rawCurrentLoad:0,rawCurrentLoadIdle:0,coresLoad:[]}}),{runtime:m,disk:u,memory:n,cpu:f}=W(s),p=b(()=>({size:v(u.value.size),used:v(u.value.used),available:v(u.value.available)})),d=b(()=>({total:v(n.value.total),free:v(n.value.available),used:v(n.value.total-n.value.available)})),C=b(()=>u.value.size<=0?0:Math.floor(u.value.used/u.value.size*100)),U=b(()=>n.value.total<=0?0:Math.floor((n.value.total-n.value.available)/n.value.total*100)),$=b(()=>`${f.value.manufacturer} ${f.value.brand} @ ${f.value.speed}GHz`),z=()=>S(this,null,function*(){const _=yield se();m.value=_.runtime,u.value=_.disk,n.value=_.memory,f.value=_.cpu});z();const y=_=>_<30?"#5cb87a":_<70?"#e6a23c":"#f53f3f",L=(_,w)=>w<=0?0:Math.floor(_/w*100);return X(()=>{a=setInterval(z,1e4)}),Y(()=>{clearInterval(a)}),(_,w)=>(g(),E("div",le,[t(e(F),{class:"stat-card",title:"\u8FD0\u884C\u73AF\u5883"},{default:r(()=>[t(e(l),{column:1,"label-style":{width:"50%"}},{default:r(()=>[t(e(l).Item,{label:"\u64CD\u4F5C\u7CFB\u7EDF"},{default:r(()=>[c(i(e(m).os),1)]),_:1}),t(e(l).Item,{label:"\u7CFB\u7EDF\u67B6\u6784"},{default:r(()=>[c(i(e(m).arch),1)]),_:1}),t(e(l).Item,{label:"Node\u7248\u672C"},{default:r(()=>[t(e(A),{color:"processing",size:"small"},{default:r(()=>[c("v"+i(e(m).nodeVersion),1)]),_:1})]),_:1}),t(e(l).Item,{label:"NPM\u7248\u672C"},{default:r(()=>[t(e(A),{color:"processing",size:"small"},{default:r(()=>[c("v"+i(e(m).npmVersion),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(e(F),{class:"stat-card",title:"CPU"},{default:r(()=>[t(e(l),{column:1,"label-style":{width:"50%"},"content-style":{width:"50%"}},{default:r(()=>[t(e(l).Item,{label:"\u8BE6\u7EC6"},{default:r(()=>[c(i(e($)),1)]),_:1}),t(e(l).Item,{label:"\u8D1F\u8F7D"},{default:r(()=>[t(D,{percent:L(e(f).rawCurrentLoad,e(f).rawCurrentLoadIdle+e(f).rawCurrentLoad),strokeColor:y},null,8,["percent"])]),_:1}),(g(!0),E(Z,null,ee(e(f).coresLoad,(B,P)=>(g(),V(e(l).Item,{key:P,label:`\u6838\u5FC3${P+1} \u8D1F\u8F7D`},{default:r(()=>[t(D,{percent:L(B.rawLoad,B.rawLoad+B.rawLoadIdle),strokeColor:y},null,8,["percent"])]),_:2},1032,["label"]))),128))]),_:1})]),_:1}),t(e(F),{class:"stat-card",title:"\u78C1\u76D8"},{default:r(()=>[I("div",oe,[t(e(l),{class:"disk-info--item",column:1},{default:r(()=>[t(e(l).Item,{label:"\u603B\u7A7A\u95F4"},{default:r(()=>[c(i(e(p).size),1)]),_:1}),t(e(l).Item,{label:"\u5DF2\u7528\u7A7A\u95F4"},{default:r(()=>[c(i(e(p).used),1)]),_:1}),t(e(l).Item,{label:"\u53EF\u7528\u7A7A\u95F4"},{default:r(()=>[c(i(e(p).available),1)]),_:1})]),_:1}),I("div",ue,[t(D,{type:"dashboard",percent:e(C),width:100,strokeColor:y},null,8,["percent"])])])]),_:1}),t(e(F),{class:"stat-card",title:"\u5185\u5B58"},{default:r(()=>[I("div",ne,[t(e(l),{class:"disk-info--item",column:1},{default:r(()=>[t(e(l).Item,{label:"\u603B\u5185\u5B58"},{default:r(()=>[c(i(e(d).total),1)]),_:1}),t(e(l).Item,{label:"\u5DF2\u7528\u5185\u5B58"},{default:r(()=>[c(i(e(d).used),1)]),_:1}),t(e(l).Item,{label:"\u53EF\u7528\u5185\u5B58"},{default:r(()=>[c(i(e(d).free),1)]),_:1})]),_:1}),I("div",de,[t(D,{type:"dashboard",percent:e(U),width:100,strokeColor:y},null,8,["percent"])])])]),_:1})]))}}));var ve=re(ie,[["__scopeId","data-v-2c40fe5e"]]);export{ve as default};
